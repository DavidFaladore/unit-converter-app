require("./renderer.js");var $=require("jQuery"),convert=require("convert-units");feather.replace();var inpImperial=$("#inpImperial"),selImperial=$("#selImperial"),inpMetric=$("#inpMetric"),selMetric=$("#selMetric"),lastFocus=$("#inpImperial").focus(),infoLength=$("#infoLength");convertLength=Array("mm","cm","m","in","ft","mi"),$(function(){$.each(convertLength,function(e){selImperial.prepend($("<option />",{text:convertLength[e],value:convertLength[e]})),selMetric.prepend($("<option />",{text:convertLength[e],value:convertLength[e]}))}),$("#selImperial option[value=in]").prop("selected",!0).parent().change(),inpImperial.attr("placeholder","Vnesite dolžino v "+selImperial.find(":selected").text()),$("#selMetric option[value=mm]").prop("selected",!0).parent().change(),inpMetric.attr("placeholder","Vnesite dolžino v "+selMetric.find(":selected").text()),infoLength.text("1"+selImperial.find(":selected").text()+" = "+convert(1).from("mm").to("in")+selMetric.find(":selected").text()),$("#selImperial option[value="+selMetric.find(":selected").val()+"]").hide(),$("#selMetric option[value="+selImperial.find(":selected").val()+"]").hide(),$(document).on("focus","input.metric-input",function(e){lastFocus=$(this)}).on("keyup","input.metric-input",function(e){var t=parseFloat($(this).val()),o=selImperial.val(),l=selMetric.val();lastFocus[0].id==inpImperial[0].id?(inpMetric.val(""),inpMetric.val(convert(t).from(o).to(l))):lastFocus[0].id==inpMetric[0].id&&(inpImperial.val(""),inpImperial.val(convert(t).from(l).to(o)))}).on("change","select.metric-select",function(e){lastFocus.trigger("keyup"),inpImperial.attr("placeholder","Vnesite dolžino v "+selImperial.find(":selected").text()),inpMetric.attr("placeholder","Vnesite dolžino v "+selMetric.find(":selected").text()),infoLength.text("1"+selImperial.find(":selected").text()+" = "+convert(1).from(selMetric.find(":selected").text()).to(selImperial.find(":selected").text())+selMetric.find(":selected").text()),$("#selImperial option").show(),$("#selMetric option").show(),$("#selImperial option[value="+selMetric.find(":selected").val()+"]").hide(),$("#selMetric option[value="+selImperial.find(":selected").val()+"]").hide()})});var inpCelsius=$("#inpCelsius"),inpFahrenheit=$("#inpFahrenheit"),inpKelvin=$("#inpKelvin"),infoTemperature=$("#infoTemperature");infoTemperature.text("0C° = "+convert(0).from("C").to("F")+"F° = "+convert(0).from("C").to("K")+"K°"),$(function(){$(document).on("keyup","input.temperature-input",function(e){var t=parseFloat($(this).val()),o=inpCelsius.val(),l=inpFahrenheit.val(),n=inpKelvin.val();t==o?(inpFahrenheit.val(convert(o).from("C").to("F")),inpKelvin.val(convert(o).from("C").to("K"))):t==l?(inpCelsius.val(convert(l).from("F").to("C")),inpKelvin.val(convert(l).from("F").to("K"))):t==n?(inpCelsius.val(convert(n).from("K").to("C")),inpFahrenheit.val(convert(n).from("K").to("F"))):clearFields()})});var inpAreaTop=$("#inpAreaTop"),selAreaTop=$("#selAreaTop"),inpAreaBottom=$("#inpAreaBottom"),selAreaBottom=$("#selAreaBottom"),infoArea=(lastFocus=$("#inpAreaTop").focus(),$("#infoArea"));convertArea=Array("mm2","cm2","m2","ha","km2","in2","ft2","mi2"),$(function(){$.each(convertArea,function(e){var t="";t=convertArea[e].includes("2")?convertArea[e].split("2")[0]+"&sup2;":convertArea[e],selAreaTop.prepend($("<option />",{html:t,value:convertArea[e]})),selAreaBottom.prepend($("<option />",{html:t,value:convertArea[e]}))}),$("#selAreaTop option[value=in2]").prop("selected",!0).parent().change(),inpAreaTop.attr("placeholder","Vnesite površino v "+selAreaTop.find(":selected").text()),$("#selAreaBottom option[value=mm2]").prop("selected",!0).parent().change(),inpAreaBottom.attr("placeholder","Vnesite površino v "+selAreaBottom.find(":selected").text()),infoArea.text("1"+selAreaTop.find(":selected").text()+" = "+convert(1).from("in2").to("mm2")+selAreaBottom.find(":selected").text()),$("#selAreaTop option[value="+selAreaBottom.find(":selected").val()+"]").hide(),$("#selAreaBottom option[value="+selAreaTop.find(":selected").val()+"]").hide(),$(document).on("focus","input.area-input",function(e){lastFocus=$(this)}).on("keyup","input.area-input",function(e){var t=parseFloat($(this).val()),o=selAreaTop.val(),l=selAreaBottom.val();lastFocus[0].id==inpAreaTop[0].id?(inpAreaBottom.val(""),inpAreaBottom.val(convert(t).from(o).to(l))):lastFocus[0].id==inpAreaBottom[0].id&&(inpAreaTop.val(""),inpAreaTop.val(convert(t).from(l).to(o)))}).on("change","select.area-select",function(e){lastFocus.trigger("keyup"),inpAreaTop.attr("placeholder","Vnesite površino v "+selAreaTop.find(":selected").text()),inpAreaBottom.attr("placeholder","Vnesite površino v "+selAreaBottom.find(":selected").text()),$("#selAreaTop option").show(),$("#selAreaBottom option").show(),$("#selAreaTop option[value="+selAreaBottom.find(":selected").val()+"]").hide(),$("#selAreaBottom option[value="+selAreaTop.find(":selected").val()+"]").hide(),infoArea.text("1"+selAreaTop.find(":selected").text()+" = "+convert(1).from(selAreaTop.find(":selected").val()).to(selAreaBottom.find(":selected").val())+selAreaBottom.find(":selected").text())})});var inpVolumeTop=$("#inpVolumeTop"),selVolumeTop=$("#selVolumeTop"),inpVolumeBottom=$("#inpVolumeBottom"),selVolumeBottom=$("#selVolumeBottom"),infoVolume=(lastFocus=$("#inpVolumeTop").focus(),$("#infoVolume"));function clearFields(){$("input[type=number]").attr("value","")}function showTab(e,t){var o,l,n;for(l=$(".tab-content"),o=0;o<l.length;o++)l[o].style.display="none";for(n=$(".tab-link"),o=0;o<n.length;o++)n[o].className=n[o].className.replace(" active","");$("#"+t).fadeIn(1e3),e.currentTarget.className+=" active"}function setFormHeight(){var e=$(".calc__data"),t=$(window).height()-($(".tabbar-wrapper").height()+15)-($(".calc__heading").height()+9);e.css("height",t+"px")}convertVolume=Array("mm3","cm3","ml","l","m3","km3","in3","fl-oz","gal","yd3"),$(function(){$.each(convertVolume,function(e){var t="";t=convertVolume[e].includes("3")?convertVolume[e].split("3")[0]+"&sup3;":convertVolume[e],selVolumeTop.prepend($("<option />",{html:t,value:convertVolume[e]})),selVolumeBottom.prepend($("<option />",{html:t,value:convertVolume[e]}))}),$("#selVolumeTop option[value=in3]").prop("selected",!0).parent().change(),inpVolumeTop.attr("placeholder","Vnesite prostornino v "+selVolumeTop.find(":selected").text()),$("#selVolumeBottom option[value=mm3]").prop("selected",!0).parent().change(),inpVolumeBottom.attr("placeholder","Vnesite prostornino v "+selVolumeBottom.find(":selected").text()),infoVolume.text("1"+selVolumeTop.find(":selected").text()+" = "+convert(1).from("in3").to("mm3")+selVolumeBottom.find(":selected").text()),$("#selVolumeTop option[value="+selVolumeBottom.find(":selected").val()+"]").hide(),$("#selVolumeBottom option[value="+selVolumeTop.find(":selected").val()+"]").hide(),$(document).on("focus","input.volume-input",function(e){lastFocus=$(this)}).on("keyup","input.volume-input",function(e){var t=parseFloat($(this).val()),o=selVolumeTop.val(),l=selVolumeBottom.val();lastFocus[0].id==inpVolumeTop[0].id?(inpVolumeBottom.val(""),inpVolumeBottom.val(convert(t).from(o).to(l))):lastFocus[0].id==inpVolumeBottom[0].id&&(inpVolumeTop.val(""),inpVolumeTop.val(convert(t).from(l).to(o)))}).on("change","select.volume-select",function(e){lastFocus.trigger("keyup"),inpVolumeTop.attr("placeholder","Vnesite prostornino v "+selVolumeTop.find(":selected").text()),inpVolumeBottom.attr("placeholder","Vnesite prostornino v "+selVolumeBottom.find(":selected").text()),infoVolume.text("1"+selVolumeTop.find(":selected").text()+" = "+convert(1).from(selVolumeTop.find(":selected").val()).to(selVolumeBottom.find(":selected").val())+selVolumeBottom.find(":selected").text()),$("#selVolumeTop option").show(),$("#selVolumeBottom option").show(),$("#selVolumeTop option[value="+selVolumeBottom.find(":selected").val()+"]").hide(),$("#selVolumeBottom option[value="+selVolumeTop.find(":selected").val()+"]").hide()})}),$(".tabbar ul li a").on("click",function(e){e.preventDefault(),$(".tabbar ul li a").removeClass("active pressed disabled"),$(this).addClass("active pressed disabled"),clearFields()}),$(document).ready(function(){showTab(event,"length"),setFormHeight()}),$(window).resize(function(){setFormHeight()});